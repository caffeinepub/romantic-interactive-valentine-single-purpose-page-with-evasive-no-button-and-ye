{
  "kind": "build_request",
  "title": "Replace celebration photos with newly uploaded images and eliminate inline photo load errors",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-36",
      "text": "Replace the existing celebration photo assets by overwriting the static files at `frontend/public/assets/generated/valentine-photo-1.jpg` and `frontend/public/assets/generated/valentine-photo-2.jpg` with the two newly uploaded images, keeping the exact same target filenames so the UI continues to reference stable paths.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-recent-4",
          "msg-recent-6"
        ],
        "quotes": [
          "make sure these both images open and dosent show any error",
          "YES replace the existing celebration photos (valentine-photo-1.jpg and valentine-photo-2.jpg),"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/public/assets/generated/valentine-photo-1.jpg` is replaced with the uploaded image `IMG_20251223_183308_541-1.jpg` content (filename remains `valentine-photo-1.jpg`).",
        "`frontend/public/assets/generated/valentine-photo-2.jpg` is replaced with the uploaded image `IMG_20260125_131055_525-1.jpg` content (filename remains `valentine-photo-2.jpg`).",
        "After clicking YES, both images render inline above the celebration text without showing the fallback text \"Photo could not be loaded\" on mobile/iPad Safari and Chrome."
      ]
    },
    {
      "id": "REQ-37",
      "text": "Ensure the inline celebration view continues to reference the two celebration photos using base-path-aware URLs (via `getAssetUrl`) and does not introduce any fullscreen/lightbox behavior; the photos must render inline stacked vertically above all celebration text.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-recent-4"
        ],
        "quotes": [
          "make sure these both images open and dosent show any error"
        ]
      },
      "acceptanceCriteria": [
        "In the post-YES inline celebration state, both photos render stacked vertically at the top and the celebration text remains directly beneath them in the normal page layout.",
        "Image `src` values are constructed with `getAssetUrl('assets/generated/valentine-photo-1.jpg')` and `getAssetUrl('assets/generated/valentine-photo-2.jpg')` (or an equivalent base-path-safe mechanism).",
        "No fullscreen overlay, modal, or scroll-locking behavior is triggered on YES."
      ]
    },
    {
      "id": "REQ-38",
      "text": "Harden the `CelebrationPhoto` component so transient load/decode timing issues do not permanently force the error fallback; implement an automatic retry path (without user interaction) before showing the error state, while keeping all user-facing text unchanged.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-recent-4"
        ],
        "quotes": [
          "make sure these both images open and dosent show any error"
        ]
      },
      "acceptanceCriteria": [
        "If an image fails to load due to a transient issue, the component automatically retries loading (e.g., by re-mounting the `<img>` / changing its key) before entering the fallback state.",
        "The component does not remain stuck in the error state on subsequent successful loads for the same `src`.",
        "The only fallback text (if it must appear) remains exactly: \"Photo could not be loaded\" (no new user-facing copy is introduced)."
      ]
    }
  ],
  "constraints": [
    "Frontend immutable paths must not be edited: `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, `frontend/src/main.tsx`, and anything under `frontend/src/components/ui`.",
    "Do not change the inline celebration requirement into a fullscreen/lightbox experience.",
    "Do not fetch images from the backend; serve them as static assets from `frontend/public/assets/generated/`.",
    "Keep all user-facing text in English."
  ],
  "nonGoals": [
    "Adding new celebration photos with new filenames (the uploaded images must replace the existing `valentine-photo-1.jpg` and `valentine-photo-2.jpg`).",
    "Changing the celebratory message copy or the black-and-pink romantic theme.",
    "Backend changes or adding new Motoko methods (no backend logic is required for static image rendering)."
  ],
  "imageRequirements": {
    "required": [],
    "edits": [
      "Replace celebration photo 1 asset (IMG_20251223_183308_541-1.jpg > valentine-photo-1.jpg)",
      "Replace celebration photo 2 asset (IMG_20260125_131055_525-1.jpg > valentine-photo-2.jpg)"
    ]
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}